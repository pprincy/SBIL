<ion-header>
  <ion-navbar text-center>
    <ion-title>{{'editIncome.editIncomeTitle' | translate}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="calculator_common_sec scroll_div">
  <ion-slides class="calculator_sliders" pager="false" autoHeight="false">
    <ion-slide>
      <div class="calculator_common_sec_inner age_slider_heading">
        <h1>{{'editIncome.howMuchIsYourSalary' | translate }}</h1>
      </div>
      <div class="tell_us_cont_common">
        <div class="calculator_common_sec_inner">
          <div class="calculation_with_range">
            <div class="calculation_with_range_inp">
              <!-- <span class="rs_icon icon-Icons_Ruppee"></span> -->
              <ion-input type="tel" min="0" disabled="{{!dropType}}" [(ngModel)]="incomeValueComma"
              (ionChange)="formatAmount(incomeValueComma, 'income')" (ngModelChange)="changeInput('amt')" class="overlay_dropdown_rng_val"></ion-input>
            </div>
            <ion-item *ngIf="dropType">
              <ion-range min="{{minMonthlyExpenses}}" max="{{maxMonthlyExpenses}}" step="{{steps}}"
                [(ngModel)]="incomeValue" pin="true" (ngModelChange)="doSomething($event)">
              </ion-range>
            </ion-item>
          </div>
          <span class="valid_msg" *ngIf="isValidAmount">Please enter amount</span>
          <span class="valid_msg" *ngIf="isValidIncome">Please enter amount in range {{minMonthlyIncome}} to
            {{maxMonthlyIncome}}</span>
        </div>
      </div>
      <div class="yes_no_container">
        <div class="yes_no_container_body">
          <div class="income_heading">
            <h5 *ngIf="isAnotherSource">{{'editIncome.doYouHaveAnotherIncome' | translate }}</h5>
            <h5 *ngIf="isIncomeSource">{{'editIncome.otherIncomeSources' | translate}}</h5>
            <figure>
              <img src="assets/imgs/income_icon.png" *ngIf="isAnotherSource" />
            </figure>
          </div>
          <div class="yes_no_container_body_mid calculation_with_range range_result">
            <ion-grid>
              <ion-row *ngIf="isSourceOne">
                <ion-col col-6>
                  <ion-label stacked>{{'editIncome.source1' | translate}}</ion-label>
                  <ion-item no-lines>
                    <button class="month_btn" float-right ion-button clear (click)="SourceOneList()">
                      <p class="month_title">{{sourceOneTitle}}</p>
                      <ion-icon class="month_arrow" name="md-arrow-dropdown"></ion-icon>
                    </button>
                  </ion-item>
                </ion-col>
                <ion-col col-5>
                  <ion-label stacked>{{'editIncome.monthlyIncome' | translate}}</ion-label>
                  <div class="calculation_with_range_inp">
                    <span class="rs_icon">`</span>
                    <ion-input min="0" type="tel" class="overlay_dropdown_rng_val" [(ngModel)]="sourceValueOneComma"
                    (ionChange)="formatAmount(sourceValueOneComma, 'source1')"  (ngModelChange)="changeInput('src')"></ion-input>
                  </div>
                </ion-col>
                <ion-col col-1 class="trashIcon">

                  <ion-icon name="ios-trash-outline" (click)="closeSources('1')"></ion-icon>
                </ion-col>
              </ion-row>
              <ion-row *ngIf="isSourceTwo">
                <ion-col col-6>
                  <ion-label stacked>{{'editIncome.source2' | translate}}</ion-label>
                  <ion-item no-lines>
                    <button class="month_btn" float-right ion-button clear (click)="SourceTwoList()">
                      <p class="month_title">{{sourceTwoTitle}}</p>
                      <ion-icon class="month_arrow" name="md-arrow-dropdown"></ion-icon>
                    </button>
                  </ion-item>
                </ion-col>
                <ion-col col-5>
                  <ion-label stacked>{{'editIncome.monthlyIncome' | translate}}</ion-label>
                  <div class="calculation_with_range_inp">
                    <span class="rs_icon">`</span>
                    <ion-input min="0" type="tel" class="overlay_dropdown_rng_val" [(ngModel)]="sourceValueTwoComma"
                    (ionChange)="formatAmount(sourceValueTwoComma, 'source2')"  (ngModelChange)="changeInput('src')"></ion-input>
                  </div>
                </ion-col>
                <ion-col col-1 class="trashIcon">
                  <ion-icon name="ios-trash-outline" (click)="closeSources('2')"></ion-icon>
                </ion-col>
              </ion-row>
              <ion-row *ngIf="isSourceThree">
                <ion-col col-6>
                  <ion-label stacked>{{'editIncome.source3' | translate}}</ion-label>
                  <ion-item no-lines>
                    <button class="month_btn" float-right ion-button clear (click)="SourceThreeList()">
                      <p class="month_title">{{sourceThreeTitle}}</p>
                      <ion-icon class="month_arrow" name="md-arrow-dropdown"></ion-icon>
                    </button>
                  </ion-item>
                </ion-col>
                <ion-col col-5>
                  <ion-label stacked>{{'editIncome.monthlyIncome' | translate}}</ion-label>
                  <div class="calculation_with_range_inp">
                    <span class="rs_icon">`</span>
                    <ion-input min="0" type="tel" class="overlay_dropdown_rng_val" [(ngModel)]="sourceValueThreeComma"
                    (ionChange)="formatAmount(sourceValueThreeComma, 'source3')"  (ngModelChange)="changeInput('src')"></ion-input>
                  </div>
                </ion-col>
                <ion-col col-1 class="trashIcon">
                  <ion-icon name="ios-trash-outline" (click)="closeSources('3')"></ion-icon>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
          <div class="income_heading">
            <a *ngIf="isAddOtherOne" (click)="showSources()">
              <ion-icon name="md-add-circle"></ion-icon>{{'editIncome.addOtherSources' | translate}}
            </a>
            <a *ngIf="isAddOtherTwo" (click)="showSources()">
              <ion-icon name="md-add-circle"></ion-icon>{{'editIncome.addOtherSources' | translate}}
            </a>
            <a *ngIf="isAddOtherThree" (click)="showSources()">
              <ion-icon name="md-add-circle"></ion-icon>{{'editIncome.addOtherSources' | translate}}
            </a>
          </div>
        </div>
      </div>
      <span class="valid_msg" *ngIf="isValidSource">*Field cannot be empty. Please enter a value</span>
    </ion-slide>
  </ion-slides>
</ion-content>
<ion-footer>
  <div class="footer_panel row active">

    <div class="col" text-center>
      <button ion-button class="log_btn" (click)="addIncomeSources()">{{'common.save' | translate}}
      </button>
    </div>
  </div>
</ion-footer>
<div class="common_loader" *ngIf="pageLoader">
  <span>
    <img src="assets/imgs/pageLoader.gif" /> </span>
</div>

<div class="overlay_dropdown delete_popup" *ngIf="deleteStatus">
  <div class="overlay_dropdown_content ">
    <h3 text-center padding>{{'Saved.youReallyWantToDelete' | translate}}</h3>
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <button ion-button class="back_btn" (click)="deleteSource('no')" outline>{{'common.no' | translate}}</button>
        </ion-col>
        <ion-col col-6>
          <button ion-button class="login_btn" (click)="deleteSource('yes')">{{'common.yes' | translate}}</button>
        </ion-col>
      </ion-row>

    </ion-grid>
  </div>
</div>